<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="ISO-8859-1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reader</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“š</text></svg>">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            100: '#1e293b',
                            200: '#334155',
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-800 text-gray-300">
    <div class="container mx-auto px-4 py-8">
        <!-- Header Section -->
        <div class="flex justify-between items-center mb-8">
            <h1 id="reader" class="text-4xl font-bold text-white">ðŸ“š Reader</h1>
            <a href="https://github.com/francisgreenleaf/Reader" target="_blank" class="text-white text-2xl">
                <i class="fab fa-github"></i>
            </a>
        </div>
        
        <div class="flex flex-col lg:flex-row gap 4"> <!-- Left Column -->
            <div class="w-full lg:w-3/5 px-4 mb-4">
                <label for="urlInput" class="block text-sm font-medium text-gray-300 mb-2">Article URL</label>
                <div class="flex items-center space-x-2 mb-4">
                    <input type="text" id="urlInput" placeholder="Enter URL"
                        class="flex-grow p-2 border rounded bg-gray-700 text-white border-gray-600">
                    <button onclick="fetchArticle()"
                        class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded">
                        Load <i class="fa-solid fa-download"></i>
                    </button>
                </div>
                
                <div id="error" class="text-red-400 mb-4"></div>
                <div id="loading" class="hidden flex justify-center items-center mt-4">
                    <svg class="animate-spin h-5 w-5 mr-3 text-white" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                    </svg>
                    Processing...
                </div>
                <div id="content" class="bg-gray-700 p-6 rounded shadow-md mb-4 text-gray-300"></div>
                <button onclick="generatePDF()"
                    class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded">Save as PDF</button>
            </div>
            <div class="w-full lg:w-2/5 px-4"> <!-- Right Column -->
                <label for="modelSelect" class="block text-sm font-medium text-gray-300 mb-2">Model</label>
                <select id="modelSelect" class="w-full p-2 border rounded bg-gray-700 text-white border-gray-600 mb-4">
                    <option default value="gpt-4o-mini">GPT-4o Mini</option>
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    <option value="gpt-4o">GPT-4o</option>
                </select>

                <div id="summary" class="bg-gray-700 p-6 rounded shadow-md mb-4 text-gray-300"></div>
                
                <label for="queryInput" class="text-sm font-medium text-gray-300">Query</label>
                <div class="flex items-center space-x-2 mb-4">
                    <input type="text" id="queryInput" placeholder="Ask a question!"
                        class="flex-grow p-2 border rounded bg-gray-700 text-white border-gray-600">
                    <button onclick="queryArticle()"
                        class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded">
                        Submit <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                
                <div id="queryLoading" class="hidden flex justify-center items-center mt-4">
                    <svg class="animate-spin h-5 w-5 mr-3 text-white" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
                    </svg>
                    Processing...
                </div>
                <div id="queryResult" class="bg-gray-700 p-6 rounded shadow-md text-gray-300"></div>
            </div>
        </div>
    </div>
</body>
<script src="/static/script.js"></script>
</html>
